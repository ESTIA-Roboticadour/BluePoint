# BluePoint

**BluePoint ToolKit** is a C++ solution developed with Visual Studio, Qt 6, OpenCV, and the Pylon SDK.  
It contains all the components and tools for the BluePoint project, including Qt Designer plugins, libraries, and applications.

## ğŸ“¦ Projects

Some projects are shared libraries and Qt Designer plugins. They **must be compiled first** using Qt Creator.  
They provide reusable widgets and logic that are dynamically loaded by other applications.

### ğŸ”§ Qt Creator Projects (Plugins & Libraries)

- `ParametersCustomWidgets`: Builds dynamic UI widgets to control various parameter types (numbers, booleans, strings...).  
  ğŸ‘‰ **Required to be compiled**, as it provides headers, `.lib` and `.dll` files used by other projects.

A helper script is provided to **prepare and install these libraries** correctly (see [Setup section](#setup)).

### ğŸ–¥ï¸ Visual Studio Projects

These are the main applications of the BluePoint project:

- `CameraHeight` â€” Estimates the height of a camera.
- `CameraAcquisition` â€” Opens and records video streams from a laptop webcam or Basler camera.
- `Vision` â€” Handles the computer vision logic for the BluePoint robotic system.

---

## âš™ï¸ General Setup

All projects rely on the following libraries. Make sure they are correctly installed and configured.

### âœ… Requirements

- **Qt** â€“ [We use Qt 6.8.2](https://www.qt.io/download)
- **OpenCV** â€“ [We use OpenCV 4.11.0](https://opencv.org/releases/)
- **Pylon SDK** â€“ [We use Pylon 8.1.0](https://www.baslerweb.com/en/products/software/basler-pylon-camera-software-suite/)

### ğŸ§° Setup Instructions

1. **Clone the repository**:
```bash
git clone https://github.com/ESTIA-Roboticadour/BluePoint
```

2. Install OpenCV:
- Download from: https://opencv.org/releases/
- Extract and set system PATH to include:
```
C:\opencv\build\x64\vc16\bin
C:\opencv\build\x64\vc16\lib
```
- Restart your computer if needed.

3. Install Qt
- Download Qt 6.8.2 via the Qt online installer.
- Install `Qt Visual Studio Tools` (from the Visual Studio extension manager).
- Set the appropriate Qt Kit in Qt Creator to compile Qt-based libraries.

4. Install Balser Pylon SDK
- Download and install from: https://www.baslerweb.com/fr-fr/downloads/software/2012599532/?downloadCategory.values.label.data=pylon
- This includes Pylon Viewer and the SDK.
- Make sure the `pylon` `bin` and `lib` folders are in your `PATH`.
- Restart your computer if needed.

---

## ğŸ—ï¸ Building Projects

### ğŸ”Œ Compile Qt Plugins and Libraries

- Open all projects in `CustomWidgets` folder in Qt Creator.
- Compile the projects in `Debug` then in `Release` to generate debug and release `.lib` and `.dll` files.

### ğŸ“ Library Setup Script
**After compiled all plugins**, run the following script to automatically prepare the required folders and copy headers, libs, and DLLs for the shared libraries:

```bash
./setup_solution.sh
```

This script will:
- Create the `Libraries/` folder with librairies subfolders and `include/`, `lib/`, and `bin/` folders for each of them.

After that, the project structure would be as bellow:

```
BluePoint/
â”œâ”€â”€ CustomWidgets/                 # Qt Designer plugins and shared libraries
â”‚   â”œâ”€â”€ ParametersCustomWidgets/
â”‚   â”œâ”€â”€ others plugins to compile with in Qt Creator...
â”œâ”€â”€ CameraAcquisition/             # Visual Studio app: capture and record video
â”œâ”€â”€ Vision/                        # Visual Studio app: computer vision logic
â”œâ”€â”€ others projects...
â”œâ”€â”€ Libraries/                     # Auto-generated by setup script
â”‚   â”œâ”€â”€ ParametersCustomWidgets/
â”‚   â”‚   â”œâ”€â”€ include/                   # Headers copied from shared libs
â”‚   â”‚   â”œâ”€â”€ lib/                       # .lib files for linking
â”‚   â”‚   â””â”€â”€ bin/                       # .dll files for runtime
â”œâ”€â”€ setup_solution.sh             # Script to setup shared libs
â””â”€â”€ README.md                     # This file
```

### ğŸ§± Build Visual Studio Applications
- Open the `.sln` file in Visual Studio.
- Make sure the `Libraries/` folder is correctly filled (via setup script).
- Set configuration to `Release` or `Debug` as needed. If you're not using same version of external librairies (OpenCV, Pylon SDK), projects `Input` (e.g. `opencv4110_world.lib` could not exist).
- Build and run.

#### ğŸ“Œ Notes

- See each project's `README.md` for specific usage and build instructions.

## â“ FAQ
**Q: I get missing .lib or .dll errors when building in Visual Studio.**
A: Run setup_solution.sh after compiling CustomWidgets projects.

**Q: My Basler camera is not readable.**
A: Ensure you plugged it on the USB 3 port. You can also install `Pylon Viewer` to test your camera.

**Q: How do I debug Qt UIs in Visual Studio?**
A: Use `Qt Visual Studio Tools` to integrate Qt Designer, or test the UI in Qt Creator first.
