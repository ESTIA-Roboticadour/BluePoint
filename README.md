# BluePoint

**BluePoint ToolKit** is a C++ solution developed with Visual Studio, Qt 6, OpenCV, and the Pylon SDK.  
It contains all the components and tools for the BluePoint project, including Qt Designer plugins, libraries, and applications.

## üì¶ Projects

Some projects are shared libraries and Qt Designer plugins. They **must be compiled first** using Qt Creator.  
They provide reusable widgets and logic that are dynamically loaded by other applications.

### üîß Qt Creator Projects (Plugins & Libraries)

- `ParametersCustomWidgets`: Builds dynamic UI widgets to control various parameter types (numbers, booleans, strings...).  
  üëâ **Required to be compiled**, as it provides headers, `.lib` and `.dll` files used by other projects.

A helper script is provided to **prepare and install these libraries** correctly (see `Setup section`).

### üñ•Ô∏è Visual Studio Projects

These are the main applications of the BluePoint project:

- `CameraHeight` ‚Äî Estimates the height of a camera.
- `CameraAcquisition` ‚Äî Opens and records video streams from a laptop webcam or Basler camera.
- `Vision` ‚Äî Handles the computer vision logic for the BluePoint robotic system.

---

## ‚öôÔ∏è General Setup

All projects rely on the following libraries. Make sure they are correctly installed and configured.

### ‚úÖ Requirements

- **Qt** ‚Äì [We use Qt 6.8.2](https://www.qt.io/download-dev)
- **OpenCV** ‚Äì [We use OpenCV 4.11.0](https://opencv.org/releases/)
- **Pylon SDK** ‚Äì [We use Pylon 8.1.0](https://www.baslerweb.com/en/downloads/software/?downloadCategory.values.label.data=pylon)

### üß∞ Setup Instructions

1. **Clone the repository**:
```bash
git clone https://github.com/ESTIA-Roboticadour/BluePoint
```

2. Install `OpenCV`:
- Download from: https://opencv.org/releases/
- Extract and set system PATH to include:
```
C:\opencv\build\x64\vc16\bin
C:\opencv\build\x64\vc16\lib
```
- Restart your computer if needed.

3. Install `Qt`
- Download `Qt 6.8.2` from: https://www.qt.io/download-dev.
- Install `Qt Visual Studio Tools` (from the Visual Studio extension manager).
- Set the appropriate Qt Kit in Qt Creator to compile Qt-based libraries.

4. Install `Balser Pylon SDK`
- Download and install from: https://www.baslerweb.com/en/downloads/software/?downloadCategory.values.label.data=pylon
- This includes `Pylon Viewer` and the `SDK`.
- Make sure the `pylon` `bin` and `lib` folders are in your `PATH`.
- Restart your computer if needed.
- We recommend you to test your camera with `Pylon Viewer`. Make sure you have plugged your camera into a **USB 3 port**. 

---

## üèóÔ∏è Building Projects

### üîå Compile Qt Plugins and Libraries

- Open all projects in `CustomWidgets` folder in Qt Creator.
- Compile the projects in `Debug` then in `Release` to generate debug and release `.lib` and `.dll` files.

### üìÅ Library Setup Script
**After compiled all plugins**, run the following script to automatically prepare the required folders and files:

```bash
./setup_solution.sh
```

This script will:
- Create the `Libraries/` folder with librairies subfolders and `include/`, `lib/`, and `bin/` folders for each of them.

After that, the project structure would be as bellow:

```
BluePoint/
‚îú‚îÄ‚îÄ CustomWidgets/                 # Qt Designer plugins and shared libraries
‚îÇ   ‚îú‚îÄ‚îÄ ParametersCustomWidgets/
‚îÇ   ‚îú‚îÄ‚îÄ others plugins to compile in Qt Creator...
‚îú‚îÄ‚îÄ CameraAcquisition/             # Visual Studio app: capture and record video
‚îú‚îÄ‚îÄ Vision/                        # Visual Studio app: computer vision logic
‚îú‚îÄ‚îÄ others projects...
‚îú‚îÄ‚îÄ Libraries/                     # Auto-generated by setup script
‚îÇ   ‚îú‚îÄ‚îÄ ParametersCustomWidgets/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ include/                   # Headers copied from shared libs
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ lib/                       # .lib files for linking
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ bin/                       # .dll files for runtime
‚îú‚îÄ‚îÄ setup_solution.sh             # Script to setup shared libs
‚îî‚îÄ‚îÄ README.md                     # This file
```

### üß± Build Visual Studio Applications
- Open the `.sln` file in Visual Studio.
- Make sure the `Libraries/` folder is correctly filled (via setup script).
- For each project, make sure you check its configuration. Check the values:
  - `C/C++ > General > Additional include directories`
  - `Linker > General > Additional libraries directories`
  - `Linker > Input > Additional Dependencies` for **Debug** and **Release** configurations (**libs are not the same!**)
- Build and run.

#### üìå Notes

- See each project's `README.md` for specific usage and build instructions.

## ‚ùì FAQ
**Q: I get missing .lib or .dll errors when building in Visual Studio.**
A: Run setup_solution.sh after compiling CustomWidgets projects.

**Q: My Basler camera is not readable.**
A: Ensure you plugged it on the **USB 3 port**. You can also install `Pylon Viewer` (if it's not already done) to test your camera.

**Q: How do I debug Qt UIs in Visual Studio?**
A: Use `Qt Visual Studio Tools` to integrate Qt Designer, or test the UI in Qt Creator first.
